<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Khushi's Wordle ðŸ’–</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #121213;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    h1 { margin-bottom: 20px; color: #d7dadc; }
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-gap: 8px;
    }
    .tile {
      width: 60px;
      height: 60px;
      border: 2px solid #3a3a3c;
      text-transform: uppercase;
      font-size: 2rem;
      text-align: center;
      line-height: 60px;
      background-color: #121213;
      color: white;
      border-radius: 5px;
    }
    .tile.correct { background-color: #538d4e; }
    .tile.present { background-color: #b59f3b; }
    .tile.absent { background-color: #3a3a3c; }
    #inputBox {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }
    .buttons {
      margin-top: 20px;
      display: flex;
      gap: 10px;
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
      background-color: #538d4e;
      color: white;
      cursor: pointer;
    }
    button:hover { background-color: #6aaa64; }
  </style>
</head>
<body>
  <h1>Khushi's Wordle ðŸ’–</h1>
  <div class="grid" id="grid"></div>
  <input id="inputBox" type="text" maxlength="1" autofocus />
  <div class="buttons">
    <button id="playAgain">Play Again</button>
    <button id="share">Share Result</button>
  </div>

  <script>
    const words = [
      "apple","grape","mango","pearl","tiger","beach","flame","ghost","dream","crane","bliss","raven","light","sweet",
      "smile","charm","spice","flair","shine","bloom","brave","heart","grace","queen","spark","glory","laugh","faith",
      "sugar","honey","music","dance","candy","lemon","olive","pride","tulip","toast","flock","range","plane","angel",
      "crown","power","storm","ocean","waves","earth","flute","knock","grind","sleep","sword","trail","witch","magic",
      "rider","flock","crush","happy","peace","storm","jolly","fancy","treat","zebra","youth","vivid","tasty","amber",
      "bread","butter","sauce","cheer","cream","drink","frost","fruit","fable","shine","night","stars","glide","rover",
      "dream","drift","angel","scent","flair","voice","chess","faith","truth","honor","tiger","flame","lucky","sassy",
      "class","vibes","grasp","fresh","juice","flare","paint","skate","wings","peach","lemon","minty","velve","silky"
    ];

    let answer = words[Math.floor(Math.random() * words.length)];
    const grid = document.getElementById("grid");
    const inputBox = document.getElementById("inputBox");
    const playAgain = document.getElementById("playAgain");
    const shareBtn = document.getElementById("share");
    let currentRow = 0, currentTile = 0;
    let guesses = Array(6).fill().map(() => Array(5).fill(''));

    // Create grid
    for (let i = 0; i < 30; i++) {
      const tile = document.createElement("div");
      tile.classList.add("tile");
      grid.appendChild(tile);
    }

    function updateGrid() {
      const tiles = document.querySelectorAll(".tile");
      guesses.forEach((row, r) => {
        row.forEach((letter, c) => {
          const tile = tiles[r * 5 + c];
          tile.textContent = letter;
        });
      });
    }

    document.body.addEventListener("click", () => inputBox.focus());
    inputBox.addEventListener("input", (e) => {
      const letter = e.target.value.toLowerCase();
      e.target.value = "";
      if (/^[a-z]$/.test(letter) && currentTile < 5) {
        guesses[currentRow][currentTile] = letter;
        currentTile++;
        updateGrid();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Backspace") {
        if (currentTile > 0) {
          currentTile--;
          guesses[currentRow][currentTile] = '';
          updateGrid();
        }
      } else if (e.key === "Enter") {
        if (currentTile === 5) checkGuess();
      }
    });

    function checkGuess() {
      const guess = guesses[currentRow].join("");
      const tiles = document.querySelectorAll(".tile");
      let answerCopy = answer.split("");
      let rowTiles = [];

      for (let i = 0; i < 5; i++) {
        const tile = tiles[currentRow * 5 + i];
        rowTiles.push(tile);
        if (guess[i] === answer[i]) {
          tile.classList.add("correct");
          answerCopy[i] = null;
        }
      }

      for (let i = 0; i < 5; i++) {
        const tile = rowTiles[i];
        if (!tile.classList.contains("correct")) {
          const letterIndex = answerCopy.indexOf(guess[i]);
          if (letterIndex !== -1) {
            tile.classList.add("present");
            answerCopy[letterIndex] = null;
          } else {
            tile.classList.add("absent");
          }
        }
      }

      if (guess === answer) {
        setTimeout(() => alert("You guessed it! ðŸ’– The word was: " + answer), 100);
      } else if (currentRow === 5) {
        setTimeout(() => alert("Out of tries! The word was: " + answer), 100);
      } else {
        currentRow++;
        currentTile = 0;
      }
    }

    playAgain.onclick = () => location.reload();

    shareBtn.onclick = () => {
      const result = guesses
        .slice(0, currentRow + 1)
        .map((row, r) => row.map((_, c) => {
          const tile = document.querySelectorAll(".tile")[r * 5 + c];
          if (tile.classList.contains("correct")) return "ðŸŸ©";
          if (tile.classList.contains("present")) return "ðŸŸ¨";
          return "â¬›";
        }).join("")).join("\n");
      const text = `Khushi's Wordle ðŸ’–\n${result}`;
      navigator.clipboard.writeText(text);
      alert("Copied results to clipboard!");
    };
  </script>
</body>
</html>
